<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4ecdc4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="GALAX">

```
<title>GALAX - Social Community</title>

<!-- PWA Manifest -->
<link rel="manifest" id="pwa-manifest">
<link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí¨</text></svg>">

<!-- Stylesheets -->
<link rel="stylesheet" href="styles/main.css">
<link rel="stylesheet" href="styles/components.css">
<link rel="stylesheet" href="styles/animations.css">
<link rel="stylesheet" href="styles/responsive.css">
```

</head>
<body>
    <div class="app-container">
        <!-- Login Screen -->
        <div class="screen login-screen active" id="loginScreen">
            <div class="logo">
                <div class="logo-letters">
                    <div class="logo-letter">G</div>
                    <div class="logo-letter">A</div>
                    <div class="logo-letter">L</div>
                    <div class="logo-letter">A</div>
                    <div class="logo-letter">X</div>
                </div>
                <p>Social Community</p>
            </div>

```
        <form class="login-form" onsubmit="login(event)">
            <div class="form-group">
                <label>ID</label>
                <input type="text" placeholder="Enter your username" value="Ninomiya" id="userId" required>
            </div>
            <div class="form-group">
                <label>PASS</label>
                <input type="password" placeholder="Enter your password" value="Rui" id="password" required>
            </div>
            <button type="submit" class="login-btn">LOGIN</button>
        </form>

        <div class="avatars" id="pixelAvatars">
            <!-- Pixel art avatars will be rendered here -->
        </div>
    </div>

    <!-- Main App Screen -->
    <div class="screen main-screen" id="mainScreen">
        <div class="header">
            <div class="user-info">
                <div class="user-avatar" id="currentAvatar"></div>
                <div>
                    <div style="font-weight: bold;" id="currentUser">Gatchaman</div>
                    <div style="font-size: 12px; color: #666;">Online</div>
                </div>
            </div>
            <div class="header-actions">
                <button class="header-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                </button>
                <button class="header-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                </button>
                <button class="header-btn" onclick="logout()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                        <polyline points="16,17 21,12 16,7"/>
                        <line x1="21" x2="9" y1="12" y2="12"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('chats')">Chats</button>
            <button class="nav-tab" onclick="switchTab('timeline')">Timeline</button>
            <button class="nav-tab" onclick="switchTab('community')">Community</button>
        </div>

        <div class="content">
            <!-- Content sections will be loaded here -->
            <div id="chatsContent" class="tab-content active"></div>
            <div id="timelineContent" class="tab-content"></div>
            <div id="communityContent" class="tab-content"></div>
            <div id="newsContent" class="tab-content"></div>
            <div id="groupsContent" class="tab-content"></div>
            <div id="gamesContent" class="tab-content"></div>
            <div id="profileContent" class="tab-content"></div>
        </div>

        <div class="bottom-nav">
            <button class="nav-item active" onclick="switchBottomTab('chats', this)">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/>
                    </svg>
                </div>
                <div class="nav-label">Chats</div>
            </button>
            <button class="nav-item" onclick="switchBottomTab('news', this)">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/>
                        <path d="M18 14h-8"/>
                        <path d="M15 18h-5"/>
                        <path d="M10 6h8"/>
                    </svg>
                </div>
                <div class="nav-label">News</div>
            </button>
            <button class="nav-item" onclick="switchBottomTab('groups', this)">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="m22 21-3-3"/>
                        <circle cx="18.5" cy="17.5" r="2.5"/>
                    </svg>
                </div>
                <div class="nav-label">Groups</div>
            </button>
            <button class="nav-item" onclick="switchBottomTab('games', this)">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="6" x2="10" y1="12" y2="12"/>
                        <line x1="8" x2="8" y1="10" y2="14"/>
                        <line x1="15" x2="15.01" y1="13" y2="13"/>
                        <line x1="18" x2="18.01" y1="11" y2="11"/>
                        <rect width="20" height="12" x="2" y="6" rx="2"/>
                    </svg>
                </div>
                <div class="nav-label">Games</div>
            </button>
            <button class="nav-item" onclick="switchBottomTab('profile', this)">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="1"/>
                        <circle cx="19" cy="12" r="1"/>
                        <circle cx="5" cy="12" r="1"/>
                    </svg>
                </div>
                <div class="nav-label">More</div>
            </button>
        </div>
    </div>

    <!-- Chat Screen -->
    <div class="screen chat-screen" id="chatScreen">
        <div class="chat-header">
            <button class="back-btn" onclick="backToMain()">‚Üê</button>
            <div class="user-avatar"></div>
            <div>
                <div style="font-weight: bold;" id="chatPartner">Dash Jeong</div>
                <div style="font-size: 12px; color: #666;">Online</div>
            </div>
            <div style="margin-left: auto;">
                <button class="header-btn" onclick="startVoiceCall()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                        <path d="M15 1h6v6"/>
                        <path d="m21 1-6 6"/>
                    </svg>
                </button>
                <button class="header-btn" onclick="startVideoCall()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"/>
                        <rect x="2" y="6" width="14" height="12" rx="2"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <!-- Messages will be loaded here -->
        </div>

        <div class="message-input">
            <button class="header-btn" onclick="toggleDrawing()">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m12 19 7-7 3 3-7 7-3-3z"/>
                    <path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                    <path d="m2 2 7.586 7.586"/>
                    <circle cx="11" cy="11" r="2"/>
                </svg>
            </button>
            <button class="voice-btn" onclick="toggleVoiceRecording()" id="voiceBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m12 8-9.04 9.06a2.82 2.82 0 1 0 3.98 3.98L16 12"/>
                    <circle cx="17" cy="7" r="5"/>
                </svg>
            </button>
            <button class="header-btn" onclick="attachFile()">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
                </svg>
            </button>
            <input type="text" class="message-field" placeholder="Type a message..." id="messageInput" onkeypress="sendMessageOnEnter(event)" oninput="handleTyping()">
            <button class="send-btn" onclick="sendMessage()">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m22 2-7 20-4-9-9-4Z"/>
                    <path d="M22 2 11 13"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Drawing Modal -->
    <div id="drawingModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Quick Sketch</h3>
                <button onclick="closeDrawing()">‚úï</button>
            </div>
            <canvas id="drawingCanvas" class="interactive-canvas"></canvas>
            <div class="drawing-tools">
                <button onclick="clearCanvas()">Clear</button>
                <input type="color" id="colorPicker" value="#4ecdc4">
                <input type="range" id="brushSize" min="1" max="10" value="2">
                <button onclick="sendDrawing()">Send Sketch</button>
            </div>
        </div>
    </div>
</div>

<!-- External Libraries -->
<script src="https://unpkg.com/konva@9/konva.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<!-- Application Scripts -->
<script src="scripts/config.js"></script>
<script src="scripts/state.js"></script>
<script src="scripts/graphics.js"></script>
<script src="scripts/avatars.js"></script>
<script src="scripts/chat.js"></script>
<script src="scripts/ui.js"></script>
<script src="scripts/pwa.js"></script>
<script src="scripts/main.js"></script>
```

</body>
</html>
